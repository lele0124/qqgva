# 代码贡献流程

<cite>
**本文档引用的文件**  
- [CODE_OF_CONDUCT.md](file://CODE_OF_CONDUCT.md)
- [SECURITY.md](file://SECURITY.md)
- [Makefile](file://Makefile)
- [CONTRIBUTING.md](file://CONTRIBUTING.md)
- [README-en.md](file://README-en.md)
</cite>

## 目录
1. [简介](#简介)
2. [代码提交完整流程](#代码提交完整流程)
3. [行为准则](#行为准则)
4. [安全漏洞报告机制](#安全漏洞报告机制)
5. [Makefile 关键命令说明](#makefile-关键命令说明)
6. [总结](#总结)

## 简介
本指南旨在为开发者提供向 `gin-vue-admin` 项目贡献代码的完整流程。内容涵盖从 Fork 仓库、创建特性分支、编写规范提交信息，到发起 Pull Request 并参与代码审查的全过程。同时强调遵守社区行为准则与安全漏洞报告机制，并介绍 Makefile 中自动化任务的关键命令，帮助贡献者高效、合规地参与项目开发。

## 代码提交完整流程

### 1. Fork 仓库
首先将项目仓库 Fork 到自己的 GitHub 账户下，避免直接在主仓库创建分支。

### 2. 创建特性分支（feature branch）
克隆自己 Fork 的仓库后，基于 `develop` 分支创建新的特性分支：
```bash
git clone https://github.com/your-username/gin-vue-admin.git
cd gin-vue-admin
git checkout -b feature/your-feature-name develop
```

### 3. 编写符合规范的提交信息（commit message）
每次提交应遵循以下格式：
```
[文件名]: 提交说明
```
例如：
```
README.md: 修复配置说明中的拼写错误
```
确保提交信息清晰描述更改内容，便于维护者理解变更意图。

### 4. 发起 Pull Request
完成开发和本地测试后，推送分支至远程：
```bash
git push origin feature/your-feature-name
```
然后在 GitHub 上发起 Pull Request（PR），注意目标分支必须是 `develop` 而非 `master`。

#### PR 审查要求：
- 若修复 Bug，需在 PR 描述中说明相关问题。
- 合并 PR 需两位维护者参与：一人审核批准，另一人复核并执行合并。

**Section sources**
- [CONTRIBUTING.md](file://CONTRIBUTING.md#L8-L19)
- [README-en.md](file://README-en.md#L37-L51)

## 行为准则

本项目遵循《Contributor Covenant 行为准约》，致力于营造开放、包容、尊重的协作环境。

### 我们的承诺
所有参与者承诺让项目和社区成为无骚扰的友好空间，无论年龄、性别认同、种族、宗教、性取向或社会经济地位。

### 可接受的行为标准
鼓励以下积极行为：
- 使用欢迎且包容的语言
- 尊重不同的观点和经历
- 欣然接受建设性批评
- 以社区最佳利益为先
- 对其他成员展现同理心

### 不可接受的行为
包括但不限于：
- 使用性化语言或图像、不受欢迎的性暗示
- 嘲讽、侮辱性言论及人身攻击
- 公开或私下骚扰他人
- 未经许可发布他人隐私信息（如电子邮箱、地址）
- 任何在专业场合下被视为不当的行为

### 维护者职责
项目维护者有权并有责任对不符合本准则的内容（评论、提交、代码、问题等）进行删除、编辑或拒绝，并可对违规贡献者实施临时或永久封禁。

### 适用范围
本准则不仅适用于项目内部空间，也适用于个人代表项目或社区时的公共行为（如使用官方邮件、社交媒体账号或作为代表出席活动）。

### 执行机制
如发现滥用、骚扰或其他不可接受行为，请联系项目团队：[303176530@qq.com](mailto:303176530@qq.com)。所有举报将被保密处理，并根据情况采取适当措施。

**Section sources**
- [CODE_OF_CONDUCT.md](file://CODE_OF_CONDUCT.md#L0-L76)

## 安全漏洞报告机制

为保障系统安全性，项目设立了专门的安全漏洞报告渠道。

### 报告方式
请勿通过公开 Issue 或 Pull Request 报告安全问题，以免造成信息泄露。  
应通过电子邮件直接联系安全团队：
> **邮箱地址：qimiaojiangjizhao@gmail.com**

此机制确保漏洞细节在修复前保持私密，防止被恶意利用。

**Section sources**
- [SECURITY.md](file://SECURITY.md#L0-L5)

## Makefile 关键命令说明

`Makefile` 提供了一系列自动化命令，简化构建、测试和部署流程。以下是贡献过程中常用的关键命令：

| 命令 | 功能说明 |
|------|----------|
| `make build` | 在容器环境中打包前后端应用 |
| `make build-web` | 仅打包前端应用 |
| `make build-server` | 仅打包后端应用 |
| `make build-local` | 在本地环境打包前后端 |
| `make build-web-local` | 在本地打包前端（进入 web 目录执行 yarn 构建） |
| `make build-server-local` | 在本地打包后端（Go 编译生成 server 二进制文件） |
| `make doc` | 生成 Swagger API 文档（需在 server 目录运行 `swag init`） |
| `make plugin PLUGIN=xxx` | 快捷打包指定插件（默认为 email 插件） |

这些命令通过 Docker 容器统一构建环境，避免因本地依赖版本差异导致的问题，确保构建结果一致可靠。

**Section sources**
- [Makefile](file://Makefile#L0-L75)

## 总结
参与 `gin-vue-admin` 项目的代码贡献需要遵循标准化流程：Fork → 创建 feature 分支 → 规范提交 → PR 至 develop 分支。同时必须遵守行为准则，维护健康社区氛围；发现安全问题应通过专用邮箱报告。合理使用 Makefile 中的自动化命令，可显著提升开发效率与构建可靠性。我们欢迎每一位开发者以负责任的方式加入共建。